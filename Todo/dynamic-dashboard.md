# 动态仪表盘自适应生成 TODO（Vue + D3.js + Web Workers）

## 目标
- 用户上传 CSV/JSON，自动生成可交互图表，支持拖拽布局与配置持久化。

## 技术栈
- Vue 3 + Vite + TypeScript
- 图表：D3.js（或 ECharts，按需）
- 解析：Papa Parse（streaming）
- 并行：Web Workers（数据处理/抽样/聚合）
- 布局：grid 布局（vue-grid-layout/自研）

## 难点
- 大文件（>10MB）解析与可视化不卡顿；动态图表推荐与懒加载。

## 里程碑
- M0 初始化与上传解析
- M1 自动推荐与图表工厂
- M2 布局/拖拽/配置面板
- M3 大数据性能优化与增量渲染
- M4 导出/分享与权限
- M5 测试/监控/文档

## 任务清单
- **[M0] 上传与解析**
  - [ ] 文件选择/拖拽上传，类型与大小校验
  - [ ] Papa Parse 流式解析 + 采样推断字段类型/枚举
  - [ ] Worker 执行解析与统计，主线程仅渲染
- **[M1] 图表自动化**
  - [ ] 基于字段类型/分布的图表建议引擎
  - [ ] 图表工厂：折线/柱状/散点/饼/热力/地图（可选）
  - [ ] 统一图表配置 schema 与状态保存
- **[M2] 布局/交互**
  - [ ] 拖拽/缩放/栅格对齐，跨面板联动（brush/linking）
  - [ ] 过滤器与查询面板（区间、多选）
  - [ ] 主题切换与导出图片
- **[M3] 性能优化**
  - [ ] 数据下采样/分块聚合；虚拟化渲染
  - [ ] 渐进式绘制与空闲时间调度
  - [ ] 内存水位监控与回收
- **[M4] 分享/权限**
  - [ ] 仪表盘快照分享/只读链接
  - [ ] 配置导入导出
- **[M5] 测试/文档**
  - [ ] 端到端用例（解析→推荐→渲染→导出）
  - [ ] 使用说明与最佳实践

## 验收标准
- 10MB+ CSV 在中端机器 <5s 可出首屏图；拖拽/筛选流畅；导出图像清晰。

## 风险与应对
- [大数据] 下采样/聚合；[浏览器内存] 流式处理；[渲染瓶颈] 虚拟化/渐进式绘制。
