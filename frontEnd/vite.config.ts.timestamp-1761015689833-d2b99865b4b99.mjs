// vite.config.ts
import react from "file:///E:/github/keru_blog/node_modules/.pnpm/@vitejs+plugin-react@4.7.0_vite@5.4.20_@types+node@22.18.1_sass@1.92.1_/node_modules/@vitejs/plugin-react/dist/index.js";
import path, { resolve } from "path";
import UnoCSS from "file:///E:/github/keru_blog/node_modules/.pnpm/unocss@0.62.4_postcss@8.4.21_rollup@4.50.1_vite@5.4.20_@types+node@22.18.1_sass@1.92.1_/node_modules/unocss/dist/vite.mjs";
import { defineConfig } from "file:///E:/github/keru_blog/node_modules/.pnpm/vite@5.4.20_@types+node@22.18.1_sass@1.92.1/node_modules/vite/dist/node/index.js";
import { createSvgIconsPlugin } from "file:///E:/github/keru_blog/node_modules/.pnpm/vite-plugin-svg-icons@2.0.1_vite@5.4.20_@types+node@22.18.1_sass@1.92.1_/node_modules/vite-plugin-svg-icons/dist/index.mjs";

// src/build/proxy.ts
var proxyConfigMappings = {
  // 开发环境调用的接口
  dev: {
    prefix: "/dev-api",
    target: "http://127.0.0.1:5566"
  },
  // 生产环境调用的接口
  prod: {
    prefix: "/prod-api",
    target: "http://127.0.0.1:2130"
  }
};
function getProxyConfig(envType = "dev") {
  return proxyConfigMappings[envType];
}
function createViteProxy(isUseProxy = true, proxyType, basePath) {
  if (!isUseProxy) return void 0;
  const proxyConfig = getProxyConfig(proxyType);
  const proxy = {
    // API 代理
    [proxyConfig.prefix]: {
      target: proxyConfig.target,
      changeOrigin: true,
      // 将前端代理前缀替换为服务端全局前缀 /api，确保匹配后端 Inversify 的 rootPath
      rewrite: (path2) => path2.replace(new RegExp("^" + basePath), "/api")
    },
    // 静态文件代理 - 用于图片等静态资源
    "/static": {
      target: proxyConfig.target,
      changeOrigin: true,
      // 静态文件路径不需要重写，直接转发
      rewrite: (path2) => path2
    }
  };
  return proxy;
}

// vite.config.ts
var __vite_injected_original_dirname = "E:\\github\\keru_blog\\frontEnd";
var vite_config_default = defineConfig({
  plugins: [
    react(),
    UnoCSS(),
    createSvgIconsPlugin({
      // Specify the icon folder to be cached
      iconDirs: [path.resolve(process.cwd(), "src/assets/svgs")],
      // Specify symbolId format
      symbolId: "[name]"
    })
  ],
  server: {
    port: 9394,
    // 你可以根据需要更改端口
    proxy: createViteProxy(true, "dev", "/dev-api")
  },
  resolve: {
    alias: {
      "@": resolve(__vite_injected_original_dirname, "./src"),
      // 共享代码别名
      shared: resolve(__vite_injected_original_dirname, "../shared/src"),
      "shared/components": resolve(__vite_injected_original_dirname, "../shared/src/components"),
      "shared/utils": resolve(__vite_injected_original_dirname, "../shared/src/utils"),
      "shared/types": resolve(__vite_injected_original_dirname, "../shared/src/types"),
      "shared/styles": resolve(__vite_injected_original_dirname, "../shared/src/styles"),
      // 跨项目组件引用别名 - 支持引用 management 项目组件（保留兼容性）
      "@management": resolve(__vite_injected_original_dirname, "../management/src"),
      "@management-components": resolve(__vite_injected_original_dirname, "../management/src/components"),
      "@management-utils": resolve(__vite_injected_original_dirname, "../management/src/utils"),
      "@management-types": resolve(__vite_injected_original_dirname, "../management/src/types")
    },
    mainFields: ["module", "main"]
  }
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiLCAic3JjL2J1aWxkL3Byb3h5LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiRTpcXFxcZ2l0aHViXFxcXGtlcnVfYmxvZ1xcXFxmcm9udEVuZFwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiRTpcXFxcZ2l0aHViXFxcXGtlcnVfYmxvZ1xcXFxmcm9udEVuZFxcXFx2aXRlLmNvbmZpZy50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vRTovZ2l0aHViL2tlcnVfYmxvZy9mcm9udEVuZC92aXRlLmNvbmZpZy50c1wiO2ltcG9ydCByZWFjdCBmcm9tICdAdml0ZWpzL3BsdWdpbi1yZWFjdCdcbmltcG9ydCBwYXRoLCB7IHJlc29sdmUgfSBmcm9tICdwYXRoJ1xuaW1wb3J0IFVub0NTUyBmcm9tICd1bm9jc3Mvdml0ZSdcbmltcG9ydCB7IGRlZmluZUNvbmZpZyB9IGZyb20gJ3ZpdGUnXG5pbXBvcnQgeyBjcmVhdGVTdmdJY29uc1BsdWdpbiB9IGZyb20gJ3ZpdGUtcGx1Z2luLXN2Zy1pY29ucydcbmltcG9ydCB7IGNyZWF0ZVZpdGVQcm94eSB9IGZyb20gJy4vc3JjL2J1aWxkL3Byb3h5J1xuLy8gaHR0cHM6Ly92aXRlanMuZGV2L2NvbmZpZy9cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZyh7XG4gICAgcGx1Z2luczogW1xuICAgICAgICByZWFjdCgpLFxuICAgICAgICBVbm9DU1MoKSxcbiAgICAgICAgY3JlYXRlU3ZnSWNvbnNQbHVnaW4oe1xuICAgICAgICAgICAgLy8gU3BlY2lmeSB0aGUgaWNvbiBmb2xkZXIgdG8gYmUgY2FjaGVkXG4gICAgICAgICAgICBpY29uRGlyczogW3BhdGgucmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCAnc3JjL2Fzc2V0cy9zdmdzJyldLFxuICAgICAgICAgICAgLy8gU3BlY2lmeSBzeW1ib2xJZCBmb3JtYXRcbiAgICAgICAgICAgIHN5bWJvbElkOiAnW25hbWVdJyxcbiAgICAgICAgfSksXG4gICAgXSxcbiAgICBzZXJ2ZXI6IHtcbiAgICAgICAgcG9ydDogOTM5NCwgLy8gXHU0RjYwXHU1M0VGXHU0RUU1XHU2ODM5XHU2MzZFXHU5NzAwXHU4OTgxXHU2NkY0XHU2NTM5XHU3QUVGXHU1M0UzXG4gICAgICAgIHByb3h5OiBjcmVhdGVWaXRlUHJveHkodHJ1ZSwgJ2RldicsICcvZGV2LWFwaScpLFxuICAgIH0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgICBhbGlhczoge1xuICAgICAgICAgICAgJ0AnOiByZXNvbHZlKF9fZGlybmFtZSwgJy4vc3JjJyksXG4gICAgICAgICAgICAvLyBcdTUxNzFcdTRFQUJcdTRFRTNcdTc4MDFcdTUyMkJcdTU0MERcbiAgICAgICAgICAgIHNoYXJlZDogcmVzb2x2ZShfX2Rpcm5hbWUsICcuLi9zaGFyZWQvc3JjJyksXG4gICAgICAgICAgICAnc2hhcmVkL2NvbXBvbmVudHMnOiByZXNvbHZlKF9fZGlybmFtZSwgJy4uL3NoYXJlZC9zcmMvY29tcG9uZW50cycpLFxuICAgICAgICAgICAgJ3NoYXJlZC91dGlscyc6IHJlc29sdmUoX19kaXJuYW1lLCAnLi4vc2hhcmVkL3NyYy91dGlscycpLFxuICAgICAgICAgICAgJ3NoYXJlZC90eXBlcyc6IHJlc29sdmUoX19kaXJuYW1lLCAnLi4vc2hhcmVkL3NyYy90eXBlcycpLFxuICAgICAgICAgICAgJ3NoYXJlZC9zdHlsZXMnOiByZXNvbHZlKF9fZGlybmFtZSwgJy4uL3NoYXJlZC9zcmMvc3R5bGVzJyksXG4gICAgICAgICAgICAvLyBcdThERThcdTk4NzlcdTc2RUVcdTdFQzRcdTRFRjZcdTVGMTVcdTc1MjhcdTUyMkJcdTU0MEQgLSBcdTY1MkZcdTYzMDFcdTVGMTVcdTc1MjggbWFuYWdlbWVudCBcdTk4NzlcdTc2RUVcdTdFQzRcdTRFRjZcdUZGMDhcdTRGRERcdTc1NTlcdTUxN0NcdTVCQjlcdTYwMjdcdUZGMDlcbiAgICAgICAgICAgICdAbWFuYWdlbWVudCc6IHJlc29sdmUoX19kaXJuYW1lLCAnLi4vbWFuYWdlbWVudC9zcmMnKSxcbiAgICAgICAgICAgICdAbWFuYWdlbWVudC1jb21wb25lbnRzJzogcmVzb2x2ZShfX2Rpcm5hbWUsICcuLi9tYW5hZ2VtZW50L3NyYy9jb21wb25lbnRzJyksXG4gICAgICAgICAgICAnQG1hbmFnZW1lbnQtdXRpbHMnOiByZXNvbHZlKF9fZGlybmFtZSwgJy4uL21hbmFnZW1lbnQvc3JjL3V0aWxzJyksXG4gICAgICAgICAgICAnQG1hbmFnZW1lbnQtdHlwZXMnOiByZXNvbHZlKF9fZGlybmFtZSwgJy4uL21hbmFnZW1lbnQvc3JjL3R5cGVzJyksXG4gICAgICAgIH0sXG4gICAgICAgIG1haW5GaWVsZHM6IFsnbW9kdWxlJywgJ21haW4nXSxcbiAgICB9LFxufSlcbiIsICJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiRTpcXFxcZ2l0aHViXFxcXGtlcnVfYmxvZ1xcXFxmcm9udEVuZFxcXFxzcmNcXFxcYnVpbGRcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIkU6XFxcXGdpdGh1YlxcXFxrZXJ1X2Jsb2dcXFxcZnJvbnRFbmRcXFxcc3JjXFxcXGJ1aWxkXFxcXHByb3h5LnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9FOi9naXRodWIva2VydV9ibG9nL2Zyb250RW5kL3NyYy9idWlsZC9wcm94eS50c1wiO3R5cGUgUHJveHlUeXBlID0gJ2RldicgfCAncHJvZCdcblxuaW50ZXJmYWNlIFByb3h5Q29uZmlnIHtcbiAgICAvKiogXHU1MzM5XHU5MTREXHU0RUUzXHU3NDA2XHU3Njg0XHU1MjREXHU3RjAwXHVGRjBDXHU2M0E1XHU1M0UzXHU1NzMwXHU1NzQwXHU1MzM5XHU5MTREXHU1MjMwXHU2QjY0XHU1MjREXHU3RjAwXHU1QzA2XHU0RUUzXHU3NDA2XHU3Njg0dGFyZ2V0XHU1NzMwXHU1NzQwICovXG4gICAgcHJlZml4OiBzdHJpbmdcbiAgICAvKiogXHU0RUUzXHU3NDA2XHU3NkVFXHU2ODA3XHU1NzMwXHU1NzQwXHVGRjBDXHU1NDBFXHU3QUVGXHU3NzFGXHU1QjlFXHU2M0E1XHU1M0UzXHU1NzMwXHU1NzQwICovXG4gICAgdGFyZ2V0OiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIFZpdGVQcm94eUNvbmZpZyB7XG4gICAgdGFyZ2V0OiBzdHJpbmdcbiAgICBjaGFuZ2VPcmlnaW46IGJvb2xlYW5cbiAgICByZXdyaXRlOiAocGF0aDogc3RyaW5nKSA9PiBzdHJpbmdcbn1cblxuY29uc3QgcHJveHlDb25maWdNYXBwaW5nczogUmVjb3JkPFByb3h5VHlwZSwgUHJveHlDb25maWc+ID0ge1xuICAgIC8vIFx1NUYwMFx1NTNEMVx1NzNBRlx1NTg4M1x1OEMwM1x1NzUyOFx1NzY4NFx1NjNBNVx1NTNFM1xuICAgIGRldjoge1xuICAgICAgICBwcmVmaXg6ICcvZGV2LWFwaScsXG4gICAgICAgIHRhcmdldDogJ2h0dHA6Ly8xMjcuMC4wLjE6NTU2NicsXG4gICAgfSxcblxuICAgIC8vIFx1NzUxRlx1NEVBN1x1NzNBRlx1NTg4M1x1OEMwM1x1NzUyOFx1NzY4NFx1NjNBNVx1NTNFM1xuICAgIHByb2Q6IHtcbiAgICAgICAgcHJlZml4OiAnL3Byb2QtYXBpJyxcbiAgICAgICAgdGFyZ2V0OiAnaHR0cDovLzEyNy4wLjAuMToyMTMwJyxcbiAgICB9LFxufVxuXG5mdW5jdGlvbiBnZXRQcm94eUNvbmZpZyhlbnZUeXBlOiBQcm94eVR5cGUgPSAnZGV2Jyk6IFByb3h5Q29uZmlnIHtcbiAgICByZXR1cm4gcHJveHlDb25maWdNYXBwaW5nc1tlbnZUeXBlXVxufVxuXG5mdW5jdGlvbiBjcmVhdGVWaXRlUHJveHkoXG4gICAgaXNVc2VQcm94eSA9IHRydWUsXG4gICAgcHJveHlUeXBlOiBQcm94eVR5cGUsXG4gICAgYmFzZVBhdGg6IHN0cmluZ1xuKTogUmVjb3JkPHN0cmluZywgVml0ZVByb3h5Q29uZmlnPiB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKCFpc1VzZVByb3h5KSByZXR1cm4gdW5kZWZpbmVkXG5cbiAgICBjb25zdCBwcm94eUNvbmZpZyA9IGdldFByb3h5Q29uZmlnKHByb3h5VHlwZSlcbiAgICBjb25zdCBwcm94eTogUmVjb3JkPHN0cmluZywgVml0ZVByb3h5Q29uZmlnPiA9IHtcbiAgICAgICAgLy8gQVBJIFx1NEVFM1x1NzQwNlxuICAgICAgICBbcHJveHlDb25maWcucHJlZml4XToge1xuICAgICAgICAgICAgdGFyZ2V0OiBwcm94eUNvbmZpZy50YXJnZXQsXG4gICAgICAgICAgICBjaGFuZ2VPcmlnaW46IHRydWUsXG4gICAgICAgICAgICAvLyBcdTVDMDZcdTUyNERcdTdBRUZcdTRFRTNcdTc0MDZcdTUyNERcdTdGMDBcdTY2RkZcdTYzNjJcdTRFM0FcdTY3MERcdTUyQTFcdTdBRUZcdTUxNjhcdTVDNDBcdTUyNERcdTdGMDAgL2FwaVx1RkYwQ1x1Nzg2RVx1NEZERFx1NTMzOVx1OTE0RFx1NTQwRVx1N0FFRiBJbnZlcnNpZnkgXHU3Njg0IHJvb3RQYXRoXG4gICAgICAgICAgICByZXdyaXRlOiAocGF0aDogc3RyaW5nKSA9PiBwYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBiYXNlUGF0aCksICcvYXBpJyksXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFx1OTc1OVx1NjAwMVx1NjU4N1x1NEVGNlx1NEVFM1x1NzQwNiAtIFx1NzUyOFx1NEU4RVx1NTZGRVx1NzI0N1x1N0I0OVx1OTc1OVx1NjAwMVx1OEQ0NFx1NkU5MFxuICAgICAgICAnL3N0YXRpYyc6IHtcbiAgICAgICAgICAgIHRhcmdldDogcHJveHlDb25maWcudGFyZ2V0LFxuICAgICAgICAgICAgY2hhbmdlT3JpZ2luOiB0cnVlLFxuICAgICAgICAgICAgLy8gXHU5NzU5XHU2MDAxXHU2NTg3XHU0RUY2XHU4REVGXHU1Rjg0XHU0RTBEXHU5NzAwXHU4OTgxXHU5MUNEXHU1MTk5XHVGRjBDXHU3NkY0XHU2M0E1XHU4RjZDXHU1M0QxXG4gICAgICAgICAgICByZXdyaXRlOiAocGF0aDogc3RyaW5nKSA9PiBwYXRoLFxuICAgICAgICB9LFxuICAgIH1cbiAgICByZXR1cm4gcHJveHlcbn1cblxuZXhwb3J0IHsgY3JlYXRlVml0ZVByb3h5IH1cbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBOFEsT0FBTyxXQUFXO0FBQ2hTLE9BQU8sUUFBUSxlQUFlO0FBQzlCLE9BQU8sWUFBWTtBQUNuQixTQUFTLG9CQUFvQjtBQUM3QixTQUFTLDRCQUE0Qjs7O0FDV3JDLElBQU0sc0JBQXNEO0FBQUE7QUFBQSxFQUV4RCxLQUFLO0FBQUEsSUFDRCxRQUFRO0FBQUEsSUFDUixRQUFRO0FBQUEsRUFDWjtBQUFBO0FBQUEsRUFHQSxNQUFNO0FBQUEsSUFDRixRQUFRO0FBQUEsSUFDUixRQUFRO0FBQUEsRUFDWjtBQUNKO0FBRUEsU0FBUyxlQUFlLFVBQXFCLE9BQW9CO0FBQzdELFNBQU8sb0JBQW9CLE9BQU87QUFDdEM7QUFFQSxTQUFTLGdCQUNMLGFBQWEsTUFDYixXQUNBLFVBQzJDO0FBQzNDLE1BQUksQ0FBQyxXQUFZLFFBQU87QUFFeEIsUUFBTSxjQUFjLGVBQWUsU0FBUztBQUM1QyxRQUFNLFFBQXlDO0FBQUE7QUFBQSxJQUUzQyxDQUFDLFlBQVksTUFBTSxHQUFHO0FBQUEsTUFDbEIsUUFBUSxZQUFZO0FBQUEsTUFDcEIsY0FBYztBQUFBO0FBQUEsTUFFZCxTQUFTLENBQUNBLFVBQWlCQSxNQUFLLFFBQVEsSUFBSSxPQUFPLE1BQU0sUUFBUSxHQUFHLE1BQU07QUFBQSxJQUM5RTtBQUFBO0FBQUEsSUFFQSxXQUFXO0FBQUEsTUFDUCxRQUFRLFlBQVk7QUFBQSxNQUNwQixjQUFjO0FBQUE7QUFBQSxNQUVkLFNBQVMsQ0FBQ0EsVUFBaUJBO0FBQUEsSUFDL0I7QUFBQSxFQUNKO0FBQ0EsU0FBTztBQUNYOzs7QUQxREEsSUFBTSxtQ0FBbUM7QUFPekMsSUFBTyxzQkFBUSxhQUFhO0FBQUEsRUFDeEIsU0FBUztBQUFBLElBQ0wsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1AscUJBQXFCO0FBQUE7QUFBQSxNQUVqQixVQUFVLENBQUMsS0FBSyxRQUFRLFFBQVEsSUFBSSxHQUFHLGlCQUFpQixDQUFDO0FBQUE7QUFBQSxNQUV6RCxVQUFVO0FBQUEsSUFDZCxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsUUFBUTtBQUFBLElBQ0osTUFBTTtBQUFBO0FBQUEsSUFDTixPQUFPLGdCQUFnQixNQUFNLE9BQU8sVUFBVTtBQUFBLEVBQ2xEO0FBQUEsRUFDQSxTQUFTO0FBQUEsSUFDTCxPQUFPO0FBQUEsTUFDSCxLQUFLLFFBQVEsa0NBQVcsT0FBTztBQUFBO0FBQUEsTUFFL0IsUUFBUSxRQUFRLGtDQUFXLGVBQWU7QUFBQSxNQUMxQyxxQkFBcUIsUUFBUSxrQ0FBVywwQkFBMEI7QUFBQSxNQUNsRSxnQkFBZ0IsUUFBUSxrQ0FBVyxxQkFBcUI7QUFBQSxNQUN4RCxnQkFBZ0IsUUFBUSxrQ0FBVyxxQkFBcUI7QUFBQSxNQUN4RCxpQkFBaUIsUUFBUSxrQ0FBVyxzQkFBc0I7QUFBQTtBQUFBLE1BRTFELGVBQWUsUUFBUSxrQ0FBVyxtQkFBbUI7QUFBQSxNQUNyRCwwQkFBMEIsUUFBUSxrQ0FBVyw4QkFBOEI7QUFBQSxNQUMzRSxxQkFBcUIsUUFBUSxrQ0FBVyx5QkFBeUI7QUFBQSxNQUNqRSxxQkFBcUIsUUFBUSxrQ0FBVyx5QkFBeUI7QUFBQSxJQUNyRTtBQUFBLElBQ0EsWUFBWSxDQUFDLFVBQVUsTUFBTTtBQUFBLEVBQ2pDO0FBQ0osQ0FBQzsiLAogICJuYW1lcyI6IFsicGF0aCJdCn0K
