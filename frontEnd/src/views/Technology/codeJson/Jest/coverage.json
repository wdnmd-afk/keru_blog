{
    "basicCoverageConfig": {
        "title": "åŸºç¡€è¦†ç›–ç‡é…ç½®",
        "language": "javascript",
        "code": "// jest.config.js - åŸºç¡€è¦†ç›–ç‡é…ç½®\nmodule.exports = {\n  // å¯ç”¨è¦†ç›–ç‡æ”¶é›†\n  collectCoverage: true,\n  \n  // æŒ‡å®šè¦†ç›–ç‡æ”¶é›†çš„æ–‡ä»¶\n  collectCoverageFrom: [\n    'src/**/*.{js,jsx,ts,tsx}',\n    '!src/**/*.d.ts',\n    '!src/index.js',\n    '!src/serviceWorker.js',\n    '!src/setupTests.js'\n  ],\n  \n  // è¦†ç›–ç‡æŠ¥å‘Šæ ¼å¼\n  coverageReporters: [\n    'text',        // æ§åˆ¶å°æ–‡æœ¬æŠ¥å‘Š\n    'text-summary', // ç®€è¦æ–‡æœ¬æŠ¥å‘Š\n    'html',        // HTMLæŠ¥å‘Š\n    'lcov',        // LCOVæ ¼å¼ï¼ˆç”¨äºCI/CDï¼‰\n    'json'         // JSONæ ¼å¼\n  ],\n  \n  // è¦†ç›–ç‡è¾“å‡ºç›®å½•\n  coverageDirectory: 'coverage',\n  \n  // è¦†ç›–ç‡é˜ˆå€¼\n  coverageThreshold: {\n    global: {\n      branches: 80,\n      functions: 80,\n      lines: 80,\n      statements: 80\n    }\n  }\n};\n\n// package.json scripts\n{\n  \"scripts\": {\n    \"test\": \"jest\",\n    \"test:coverage\": \"jest --coverage\",\n    \"test:coverage:watch\": \"jest --coverage --watch\",\n    \"test:coverage:ci\": \"jest --coverage --ci --watchAll=false\"\n  }\n}\n\n// è¿è¡Œè¦†ç›–ç‡æµ‹è¯•\n# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š\nnpm run test:coverage\n\n# ç›‘è§†æ¨¡å¼ä¸‹çš„è¦†ç›–ç‡\nnpm run test:coverage:watch\n\n# CIç¯å¢ƒä¸‹çš„è¦†ç›–ç‡\nnpm run test:coverage:ci"
    },
    "advancedCoverageConfig": {
        "title": "é«˜çº§è¦†ç›–ç‡é…ç½®",
        "language": "javascript",
        "code": "// jest.config.js - é«˜çº§è¦†ç›–ç‡é…ç½®\nmodule.exports = {\n  collectCoverage: true,\n  \n  // è¯¦ç»†çš„æ–‡ä»¶åŒ…å«/æ’é™¤è§„åˆ™\n  collectCoverageFrom: [\n    // åŒ…å«çš„æ–‡ä»¶\n    'src/**/*.{js,jsx,ts,tsx}',\n    'lib/**/*.{js,ts}',\n    \n    // æ’é™¤çš„æ–‡ä»¶\n    '!src/**/*.test.{js,jsx,ts,tsx}',\n    '!src/**/*.spec.{js,jsx,ts,tsx}',\n    '!src/**/*.stories.{js,jsx,ts,tsx}',\n    '!src/**/__tests__/**',\n    '!src/**/__mocks__/**',\n    '!src/**/node_modules/**',\n    '!src/**/*.d.ts',\n    '!src/index.{js,ts}',\n    '!src/serviceWorker.{js,ts}',\n    '!src/setupTests.{js,ts}',\n    '!src/reportWebVitals.{js,ts}',\n    \n    // æ’é™¤é…ç½®æ–‡ä»¶\n    '!src/config/**',\n    '!src/constants/**',\n    '!src/types/**',\n    \n    // æ’é™¤æ ·å¼æ–‡ä»¶\n    '!src/**/*.{css,scss,sass,less}',\n    \n    // æ’é™¤é™æ€èµ„æº\n    '!src/assets/**'\n  ],\n  \n  // è¦†ç›–ç‡æŠ¥å‘Šé…ç½®\n  coverageReporters: [\n    'text',\n    'text-summary',\n    'html',\n    'lcov',\n    'json',\n    'json-summary',\n    'cobertura',  // ç”¨äºæŸäº›CIç³»ç»Ÿ\n    'clover'      // ç”¨äºæŸäº›ä»£ç è´¨é‡å·¥å…·\n  ],\n  \n  // è‡ªå®šä¹‰è¦†ç›–ç‡æŠ¥å‘Šç›®å½•\n  coverageDirectory: 'coverage',\n  \n  // è¦†ç›–ç‡è·¯å¾„æ˜ å°„\n  coveragePathIgnorePatterns: [\n    '/node_modules/',\n    '/build/',\n    '/dist/',\n    '/coverage/',\n    '\\\\.stories\\\\.',\n    '\\\\.test\\\\.',\n    '\\\\.spec\\\\.'\n  ],\n  \n  // å¼ºåˆ¶è¦†ç›–ç‡æ”¶é›†ï¼ˆå³ä½¿æ²¡æœ‰æµ‹è¯•æ–‡ä»¶ï¼‰\n  forceCoverageMatch: [\n    '**/src/utils/**/*.{js,ts}',\n    '**/src/helpers/**/*.{js,ts}'\n  ],\n  \n  // è¦†ç›–ç‡æä¾›è€…ï¼ˆv8å¼•æ“æ›´å¿«ï¼‰\n  coverageProvider: 'v8', // æˆ– 'babel'\n  \n  // è‡ªå®šä¹‰è¦†ç›–ç‡é˜ˆå€¼\n  coverageThreshold: {\n    global: {\n      branches: 85,\n      functions: 85,\n      lines: 85,\n      statements: 85\n    },\n    // é’ˆå¯¹ç‰¹å®šæ–‡ä»¶çš„é˜ˆå€¼\n    './src/utils/': {\n      branches: 90,\n      functions: 90,\n      lines: 90,\n      statements: 90\n    },\n    './src/components/': {\n      branches: 80,\n      functions: 80,\n      lines: 80,\n      statements: 80\n    }\n  }\n};\n\n// TypeScript é¡¹ç›®çš„è¦†ç›–ç‡é…ç½®\nmodule.exports = {\n  preset: 'ts-jest',\n  collectCoverage: true,\n  \n  collectCoverageFrom: [\n    'src/**/*.{ts,tsx}',\n    '!src/**/*.d.ts',\n    '!src/**/*.test.{ts,tsx}',\n    '!src/**/*.spec.{ts,tsx}'\n  ],\n  \n  // TypeScript è¦†ç›–ç‡æ˜ å°„\n  coveragePathIgnorePatterns: [\n    '/node_modules/',\n    '/dist/',\n    '\\\\.d\\\\.ts$'\n  ]\n};"
    },
    "coverageThresholds": {
        "title": "è¦†ç›–ç‡é˜ˆå€¼é…ç½®",
        "language": "javascript",
        "code": "// jest.config.js - è¯¦ç»†çš„é˜ˆå€¼é…ç½®\nmodule.exports = {\n  coverageThreshold: {\n    // å…¨å±€é˜ˆå€¼\n    global: {\n      branches: 80,    // åˆ†æ”¯è¦†ç›–ç‡\n      functions: 85,   // å‡½æ•°è¦†ç›–ç‡\n      lines: 80,       // è¡Œè¦†ç›–ç‡\n      statements: 80   // è¯­å¥è¦†ç›–ç‡\n    },\n    \n    // æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ - é«˜æ ‡å‡†\n    './src/services/': {\n      branches: 90,\n      functions: 95,\n      lines: 90,\n      statements: 90\n    },\n    \n    // å·¥å…·å‡½æ•° - é«˜æ ‡å‡†\n    './src/utils/': {\n      branches: 95,\n      functions: 100,\n      lines: 95,\n      statements: 95\n    },\n    \n    // ç»„ä»¶ - ä¸­ç­‰æ ‡å‡†\n    './src/components/': {\n      branches: 75,\n      functions: 80,\n      lines: 75,\n      statements: 75\n    },\n    \n    // é¡µé¢ç»„ä»¶ - è¾ƒä½æ ‡å‡†\n    './src/pages/': {\n      branches: 60,\n      functions: 70,\n      lines: 60,\n      statements: 60\n    },\n    \n    // ç‰¹å®šæ–‡ä»¶çš„é˜ˆå€¼\n    './src/utils/calculator.js': {\n      branches: 100,\n      functions: 100,\n      lines: 100,\n      statements: 100\n    }\n  }\n};\n\n// æ¸è¿›å¼é˜ˆå€¼æå‡ç­–ç•¥\n// ç¬¬ä¸€é˜¶æ®µï¼šå»ºç«‹åŸºçº¿\nconst phase1Thresholds = {\n  global: {\n    branches: 60,\n    functions: 70,\n    lines: 65,\n    statements: 65\n  }\n};\n\n// ç¬¬äºŒé˜¶æ®µï¼šæå‡æ ‡å‡†\nconst phase2Thresholds = {\n  global: {\n    branches: 75,\n    functions: 80,\n    lines: 75,\n    statements: 75\n  }\n};\n\n// ç¬¬ä¸‰é˜¶æ®µï¼šé«˜æ ‡å‡†\nconst phase3Thresholds = {\n  global: {\n    branches: 85,\n    functions: 90,\n    lines: 85,\n    statements: 85\n  }\n};\n\n// åŠ¨æ€é˜ˆå€¼é…ç½®\nconst getCoverageThreshold = () => {\n  const phase = process.env.COVERAGE_PHASE || 'phase1';\n  \n  switch (phase) {\n    case 'phase1': return phase1Thresholds;\n    case 'phase2': return phase2Thresholds;\n    case 'phase3': return phase3Thresholds;\n    default: return phase1Thresholds;\n  }\n};\n\nmodule.exports = {\n  coverageThreshold: getCoverageThreshold()\n};\n\n// ä½¿ç”¨ç¯å¢ƒå˜é‡æ§åˆ¶é˜ˆå€¼\n# è®¾ç½®è¦†ç›–ç‡é˜¶æ®µ\nCOVERAGE_PHASE=phase2 npm run test:coverage\n\n// æ¡ä»¶é˜ˆå€¼é…ç½®\nmodule.exports = {\n  coverageThreshold: {\n    global: {\n      // ç”Ÿäº§ç¯å¢ƒæ›´ä¸¥æ ¼\n      branches: process.env.NODE_ENV === 'production' ? 90 : 80,\n      functions: process.env.NODE_ENV === 'production' ? 95 : 85,\n      lines: process.env.NODE_ENV === 'production' ? 90 : 80,\n      statements: process.env.NODE_ENV === 'production' ? 90 : 80\n    }\n  }\n};"
    },
    "directoryThresholds": {
        "title": "åˆ†ç›®å½•é˜ˆå€¼é…ç½®",
        "language": "javascript",
        "code": "// jest.config.js - åˆ†ç›®å½•é˜ˆå€¼é…ç½®\nmodule.exports = {\n  coverageThreshold: {\n    // å…¨å±€åŸºçº¿é˜ˆå€¼\n    global: {\n      branches: 80,\n      functions: 80,\n      lines: 80,\n      statements: 80\n    },\n    \n    // API æœåŠ¡å±‚ - æœ€é«˜æ ‡å‡†\n    './src/api/': {\n      branches: 95,\n      functions: 100,\n      lines: 95,\n      statements: 95\n    },\n    \n    // æ•°æ®å¤„ç†å±‚ - é«˜æ ‡å‡†\n    './src/data/': {\n      branches: 90,\n      functions: 95,\n      lines: 90,\n      statements: 90\n    },\n    \n    // ä¸šåŠ¡é€»è¾‘å±‚ - é«˜æ ‡å‡†\n    './src/business/': {\n      branches: 90,\n      functions: 90,\n      lines: 90,\n      statements: 90\n    },\n    \n    // å·¥å…·å‡½æ•° - é«˜æ ‡å‡†\n    './src/utils/': {\n      branches: 95,\n      functions: 100,\n      lines: 95,\n      statements: 95\n    },\n    \n    // åŠ©æ‰‹å‡½æ•° - é«˜æ ‡å‡†\n    './src/helpers/': {\n      branches: 90,\n      functions: 95,\n      lines: 90,\n      statements: 90\n    },\n    \n    // éªŒè¯å™¨ - é«˜æ ‡å‡†\n    './src/validators/': {\n      branches: 95,\n      functions: 100,\n      lines: 95,\n      statements: 95\n    },\n    \n    // ç»„ä»¶åº“ - ä¸­ç­‰æ ‡å‡†\n    './src/components/': {\n      branches: 75,\n      functions: 80,\n      lines: 75,\n      statements: 75\n    },\n    \n    // UI ç»„ä»¶ - ä¸­ç­‰æ ‡å‡†\n    './src/ui/': {\n      branches: 70,\n      functions: 75,\n      lines: 70,\n      statements: 70\n    },\n    \n    // é¡µé¢ç»„ä»¶ - è¾ƒä½æ ‡å‡†\n    './src/pages/': {\n      branches: 60,\n      functions: 70,\n      lines: 60,\n      statements: 60\n    },\n    \n    // å¸ƒå±€ç»„ä»¶ - è¾ƒä½æ ‡å‡†\n    './src/layouts/': {\n      branches: 50,\n      functions: 60,\n      lines: 50,\n      statements: 50\n    },\n    \n    // è·¯ç”±é…ç½® - è¾ƒä½æ ‡å‡†\n    './src/routes/': {\n      branches: 40,\n      functions: 50,\n      lines: 40,\n      statements: 40\n    },\n    \n    // æ ·å¼ç›¸å…³ - æœ€ä½æ ‡å‡†æˆ–æ’é™¤\n    './src/styles/': {\n      branches: 0,\n      functions: 0,\n      lines: 0,\n      statements: 0\n    }\n  }\n};\n\n// åŸºäºæ–‡ä»¶ç±»å‹çš„é˜ˆå€¼é…ç½®\nconst getThresholdByFileType = (filePath) => {\n  // æ ¸å¿ƒä¸šåŠ¡æ–‡ä»¶\n  if (filePath.includes('/services/') || filePath.includes('/api/')) {\n    return { branches: 95, functions: 100, lines: 95, statements: 95 };\n  }\n  \n  // å·¥å…·å‡½æ•°\n  if (filePath.includes('/utils/') || filePath.includes('/helpers/')) {\n    return { branches: 90, functions: 95, lines: 90, statements: 90 };\n  }\n  \n  // ç»„ä»¶æ–‡ä»¶\n  if (filePath.includes('/components/')) {\n    return { branches: 75, functions: 80, lines: 75, statements: 75 };\n  }\n  \n  // é¡µé¢æ–‡ä»¶\n  if (filePath.includes('/pages/') || filePath.includes('/views/')) {\n    return { branches: 60, functions: 70, lines: 60, statements: 60 };\n  }\n  \n  // é»˜è®¤é˜ˆå€¼\n  return { branches: 80, functions: 80, lines: 80, statements: 80 };\n};\n\n// åŠ¨æ€ç”Ÿæˆé˜ˆå€¼é…ç½®\nconst generateCoverageThresholds = () => {\n  const fs = require('fs');\n  const path = require('path');\n  const thresholds = { global: { branches: 80, functions: 80, lines: 80, statements: 80 } };\n  \n  // æ‰«ææºç ç›®å½•\n  const scanDirectory = (dir) => {\n    const items = fs.readdirSync(dir);\n    \n    items.forEach(item => {\n      const fullPath = path.join(dir, item);\n      const stat = fs.statSync(fullPath);\n      \n      if (stat.isDirectory() && !item.startsWith('.')) {\n        const relativePath = `./${path.relative(process.cwd(), fullPath)}/`;\n        thresholds[relativePath] = getThresholdByFileType(relativePath);\n        scanDirectory(fullPath);\n      }\n    });\n  };\n  \n  scanDirectory('./src');\n  return thresholds;\n};\n\n// ä½¿ç”¨åŠ¨æ€ç”Ÿæˆçš„é˜ˆå€¼\nmodule.exports = {\n  coverageThreshold: generateCoverageThresholds()\n};"
    },
    "reportFormats": {
        "title": "è¦†ç›–ç‡æŠ¥å‘Šæ ¼å¼",
        "language": "javascript",
        "code": "// jest.config.js - æŠ¥å‘Šæ ¼å¼é…ç½®\nmodule.exports = {\n  coverageReporters: [\n    // æ–‡æœ¬æ ¼å¼æŠ¥å‘Š\n    'text',              // è¯¦ç»†çš„æ§åˆ¶å°è¾“å‡º\n    'text-summary',      // ç®€è¦çš„æ§åˆ¶å°æ‘˜è¦\n    'text-lcov',         // LCOVæ ¼å¼çš„æ–‡æœ¬è¾“å‡º\n    \n    // HTML æ ¼å¼æŠ¥å‘Š\n    'html',              // å®Œæ•´çš„HTMLæŠ¥å‘Š\n    'html-spa',          // å•é¡µåº”ç”¨HTMLæŠ¥å‘Š\n    \n    // JSON æ ¼å¼æŠ¥å‘Š\n    'json',              // è¯¦ç»†çš„JSONæŠ¥å‘Š\n    'json-summary',      // ç®€è¦çš„JSONæ‘˜è¦\n    \n    // LCOV æ ¼å¼ï¼ˆç”¨äºCI/CDï¼‰\n    'lcov',              // LCOVæ ¼å¼æ–‡ä»¶\n    'lcovonly',          // ä»…LCOVæ–‡ä»¶\n    \n    // å…¶ä»–æ ¼å¼\n    'cobertura',         // Cobertura XMLæ ¼å¼\n    'clover',            // Clover XMLæ ¼å¼\n    'teamcity',          // TeamCityæ ¼å¼\n    'none'               // ä¸ç”ŸæˆæŠ¥å‘Š\n  ],\n  \n  // è‡ªå®šä¹‰æŠ¥å‘Šå™¨\n  coverageReporters: [\n    'text',\n    'html',\n    ['lcov', { projectRoot: '../../' }],\n    ['json', { file: 'coverage-final.json' }],\n    ['text-summary', { file: 'coverage-summary.txt' }]\n  ]\n};\n\n// ç¯å¢ƒç‰¹å®šçš„æŠ¥å‘Šé…ç½®\nconst getCoverageReporters = () => {\n  const baseReporters = ['text', 'text-summary'];\n  \n  if (process.env.CI) {\n    // CI ç¯å¢ƒï¼šç”Ÿæˆæœºå™¨å¯è¯»çš„æ ¼å¼\n    return [...baseReporters, 'lcov', 'json', 'cobertura'];\n  } else {\n    // æœ¬åœ°å¼€å‘ï¼šç”Ÿæˆäººç±»å¯è¯»çš„æ ¼å¼\n    return [...baseReporters, 'html'];\n  }\n};\n\nmodule.exports = {\n  coverageReporters: getCoverageReporters()\n};\n\n// è‡ªå®šä¹‰æŠ¥å‘Šå™¨ç¤ºä¾‹\nclass CustomCoverageReporter {\n  constructor(globalConfig, options) {\n    this._globalConfig = globalConfig;\n    this._options = options;\n  }\n  \n  onRunComplete(contexts, results) {\n    const { coverageMap } = results;\n    \n    if (coverageMap) {\n      const summary = coverageMap.getCoverageSummary();\n      \n      console.log('\\n=== è‡ªå®šä¹‰è¦†ç›–ç‡æŠ¥å‘Š ===');\n      console.log(`æ€»ä½“è¦†ç›–ç‡: ${summary.lines.pct}%`);\n      console.log(`åˆ†æ”¯è¦†ç›–ç‡: ${summary.branches.pct}%`);\n      console.log(`å‡½æ•°è¦†ç›–ç‡: ${summary.functions.pct}%`);\n      console.log(`è¯­å¥è¦†ç›–ç‡: ${summary.statements.pct}%`);\n      \n      // ç”Ÿæˆè‡ªå®šä¹‰æŠ¥å‘Šæ–‡ä»¶\n      const fs = require('fs');\n      const reportData = {\n        timestamp: new Date().toISOString(),\n        summary: {\n          lines: summary.lines.pct,\n          branches: summary.branches.pct,\n          functions: summary.functions.pct,\n          statements: summary.statements.pct\n        }\n      };\n      \n      fs.writeFileSync(\n        'coverage/custom-report.json',\n        JSON.stringify(reportData, null, 2)\n      );\n    }\n  }\n}\n\nmodule.exports = {\n  coverageReporters: [\n    'text',\n    'html',\n    ['<rootDir>/custom-coverage-reporter.js', {}]\n  ]\n};\n\n// æŠ¥å‘Šè¾“å‡ºç›®å½•é…ç½®\nmodule.exports = {\n  coverageDirectory: 'coverage',\n  \n  // è‡ªå®šä¹‰æŠ¥å‘Šæ–‡ä»¶å\n  coverageReporters: [\n    ['html', { subdir: 'html-report' }],\n    ['lcov', { file: 'lcov.info' }],\n    ['json', { file: 'coverage.json' }],\n    ['text-summary', { file: 'summary.txt' }]\n  ]\n};"
    },
    "customReports": {
        "title": "è‡ªå®šä¹‰è¦†ç›–ç‡æŠ¥å‘Š",
        "language": "javascript",
        "code": "// è‡ªå®šä¹‰è¦†ç›–ç‡æŠ¥å‘Šå™¨\nclass DetailedCoverageReporter {\n  constructor(globalConfig, options) {\n    this._globalConfig = globalConfig;\n    this._options = options || {};\n  }\n  \n  onRunComplete(contexts, results) {\n    const { coverageMap } = results;\n    \n    if (!coverageMap) {\n      console.log('æ²¡æœ‰è¦†ç›–ç‡æ•°æ®');\n      return;\n    }\n    \n    this.generateDetailedReport(coverageMap);\n    this.generateTrendReport(coverageMap);\n    this.generateQualityReport(coverageMap);\n  }\n  \n  generateDetailedReport(coverageMap) {\n    const files = coverageMap.files();\n    const report = [];\n    \n    files.forEach(file => {\n      const fileCoverage = coverageMap.fileCoverageFor(file);\n      const summary = fileCoverage.toSummary();\n      \n      report.push({\n        file: file.replace(process.cwd(), ''),\n        lines: {\n          total: summary.lines.total,\n          covered: summary.lines.covered,\n          percentage: summary.lines.pct\n        },\n        branches: {\n          total: summary.branches.total,\n          covered: summary.branches.covered,\n          percentage: summary.branches.pct\n        },\n        functions: {\n          total: summary.functions.total,\n          covered: summary.functions.covered,\n          percentage: summary.functions.pct\n        },\n        statements: {\n          total: summary.statements.total,\n          covered: summary.statements.covered,\n          percentage: summary.statements.pct\n        }\n      });\n    });\n    \n    // æŒ‰è¦†ç›–ç‡æ’åº\n    report.sort((a, b) => a.lines.percentage - b.lines.percentage);\n    \n    // è¾“å‡ºæœ€ä½è¦†ç›–ç‡çš„æ–‡ä»¶\n    console.log('\\n=== è¦†ç›–ç‡æœ€ä½çš„æ–‡ä»¶ ===');\n    report.slice(0, 10).forEach(item => {\n      console.log(`${item.file}: ${item.lines.percentage}%`);\n    });\n    \n    // ä¿å­˜è¯¦ç»†æŠ¥å‘Š\n    const fs = require('fs');\n    fs.writeFileSync(\n      'coverage/detailed-report.json',\n      JSON.stringify(report, null, 2)\n    );\n  }\n  \n  generateTrendReport(coverageMap) {\n    const fs = require('fs');\n    const path = require('path');\n    const trendFile = 'coverage/trend.json';\n    \n    const summary = coverageMap.getCoverageSummary();\n    const currentData = {\n      timestamp: new Date().toISOString(),\n      lines: summary.lines.pct,\n      branches: summary.branches.pct,\n      functions: summary.functions.pct,\n      statements: summary.statements.pct\n    };\n    \n    let trendData = [];\n    if (fs.existsSync(trendFile)) {\n      trendData = JSON.parse(fs.readFileSync(trendFile, 'utf8'));\n    }\n    \n    trendData.push(currentData);\n    \n    // åªä¿ç•™æœ€è¿‘30æ¬¡çš„æ•°æ®\n    if (trendData.length > 30) {\n      trendData = trendData.slice(-30);\n    }\n    \n    fs.writeFileSync(trendFile, JSON.stringify(trendData, null, 2));\n    \n    // åˆ†æè¶‹åŠ¿\n    if (trendData.length > 1) {\n      const previous = trendData[trendData.length - 2];\n      const current = trendData[trendData.length - 1];\n      \n      console.log('\\n=== è¦†ç›–ç‡è¶‹åŠ¿ ===');\n      console.log(`è¡Œè¦†ç›–ç‡: ${previous.lines}% â†’ ${current.lines}% (${current.lines - previous.lines > 0 ? '+' : ''}${(current.lines - previous.lines).toFixed(2)}%)`);\n      console.log(`åˆ†æ”¯è¦†ç›–ç‡: ${previous.branches}% â†’ ${current.branches}% (${current.branches - previous.branches > 0 ? '+' : ''}${(current.branches - previous.branches).toFixed(2)}%)`);\n    }\n  }\n  \n  generateQualityReport(coverageMap) {\n    const files = coverageMap.files();\n    const qualityIssues = [];\n    \n    files.forEach(file => {\n      const fileCoverage = coverageMap.fileCoverageFor(file);\n      const summary = fileCoverage.toSummary();\n      \n      // æ£€æŸ¥è´¨é‡é—®é¢˜\n      if (summary.lines.pct < 70) {\n        qualityIssues.push({\n          file: file.replace(process.cwd(), ''),\n          issue: 'low_line_coverage',\n          value: summary.lines.pct,\n          severity: summary.lines.pct < 50 ? 'high' : 'medium'\n        });\n      }\n      \n      if (summary.branches.pct < 60) {\n        qualityIssues.push({\n          file: file.replace(process.cwd(), ''),\n          issue: 'low_branch_coverage',\n          value: summary.branches.pct,\n          severity: summary.branches.pct < 40 ? 'high' : 'medium'\n        });\n      }\n    });\n    \n    if (qualityIssues.length > 0) {\n      console.log('\\n=== è¦†ç›–ç‡è´¨é‡é—®é¢˜ ===');\n      qualityIssues.forEach(issue => {\n        const emoji = issue.severity === 'high' ? 'ğŸ”´' : 'ğŸŸ¡';\n        console.log(`${emoji} ${issue.file}: ${issue.issue} (${issue.value}%)`);\n      });\n    }\n    \n    // ä¿å­˜è´¨é‡æŠ¥å‘Š\n    const fs = require('fs');\n    fs.writeFileSync(\n      'coverage/quality-report.json',\n      JSON.stringify(qualityIssues, null, 2)\n    );\n  }\n}\n\nmodule.exports = DetailedCoverageReporter;\n\n// ä½¿ç”¨è‡ªå®šä¹‰æŠ¥å‘Šå™¨\n// jest.config.js\nmodule.exports = {\n  coverageReporters: [\n    'text',\n    'html',\n    ['<rootDir>/detailed-coverage-reporter.js', {\n      outputFile: 'coverage/custom-report.json'\n    }]\n  ]\n};\n\n// Slack é€šçŸ¥æŠ¥å‘Šå™¨\nclass SlackCoverageReporter {\n  constructor(globalConfig, options) {\n    this._options = options || {};\n  }\n  \n  async onRunComplete(contexts, results) {\n    const { coverageMap } = results;\n    \n    if (!coverageMap || !this._options.webhookUrl) {\n      return;\n    }\n    \n    const summary = coverageMap.getCoverageSummary();\n    const message = {\n      text: 'æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š',\n      attachments: [\n        {\n          color: summary.lines.pct >= 80 ? 'good' : summary.lines.pct >= 60 ? 'warning' : 'danger',\n          fields: [\n            { title: 'è¡Œè¦†ç›–ç‡', value: `${summary.lines.pct}%`, short: true },\n            { title: 'åˆ†æ”¯è¦†ç›–ç‡', value: `${summary.branches.pct}%`, short: true },\n            { title: 'å‡½æ•°è¦†ç›–ç‡', value: `${summary.functions.pct}%`, short: true },\n            { title: 'è¯­å¥è¦†ç›–ç‡', value: `${summary.statements.pct}%`, short: true }\n          ]\n        }\n      ]\n    };\n    \n    try {\n      const fetch = require('node-fetch');\n      await fetch(this._options.webhookUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(message)\n      });\n    } catch (error) {\n      console.error('å‘é€Slacké€šçŸ¥å¤±è´¥:', error);\n    }\n  }\n}\n\n// ä½¿ç”¨ Slack æŠ¥å‘Šå™¨\nmodule.exports = {\n  coverageReporters: [\n    'text',\n    ['<rootDir>/slack-coverage-reporter.js', {\n      webhookUrl: process.env.SLACK_WEBHOOK_URL\n    }]\n  ]\n};"
    }
}
